<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creator AI</title>
    <link rel="stylesheet" href="css/popup.css">
</head>
<body>
    <div class="popup-container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <img src="icons/icon32.png" alt="Creator AI" class="logo-img">
                <h1>Creator AI</h1>
            </div>
            <div class="connection-status" id="connectionStatus">
                <span class="status-dot" id="statusDot"></span>
                <span id="statusText">ƒêang k·∫øt n·ªëi...</span>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="generation">
                <span class="tab-icon">‚ú®</span>
                T·∫°o ·∫£nh
            </button>
            <button class="nav-tab" data-tab="animation">
                <span class="tab-icon">üé¨</span>
                Animation
            </button>
            <button class="nav-tab" data-tab="video">
                <span class="tab-icon">üé•</span>
                Video
            </button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Image Generation Tab -->
            <div class="tab-panel active" id="generation">
                <div class="section">
                    <h3>T·∫°o h√¨nh ·∫£nh t·ª´ l·ªùi nh·∫Øc</h3>
                    <p class="description">S·ª≠ d·ª•ng AI ƒë·ªÉ t·∫°o ra h√¨nh ·∫£nh ƒë·∫πp v√† chi ti·∫øt t·ª´ m√¥ t·∫£ vƒÉn b·∫£n.</p>
                    
                    <div class="form-group">
                        <label for="promptInput">M√¥ t·∫£ h√¨nh ·∫£nh:</label>
                        <textarea id="promptInput" placeholder="Nh·∫≠p m√¥ t·∫£ h√¨nh ·∫£nh b·∫°n mu·ªën t·∫°o..." rows="3"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="styleSelect">Phong c√°ch:</label>
                            <select id="styleSelect">
                                <option value="realistic">Th·ª±c t·∫ø</option>
                                <option value="anime">Anime</option>
                                <option value="artistic">Ngh·ªá thu·∫≠t</option>
                                <option value="portrait">Ch√¢n dung</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="resolutionSelect">ƒê·ªô ph√¢n gi·∫£i:</label>
                            <select id="resolutionSelect">
                                <option value="512x512">512x512</option>
                                <option value="768x768">768x768</option>
                                <option value="1024x1024">1024x1024</option>
                            </select>
                        </div>
                    </div>
                    
                    <button class="btn-primary" id="generateBtn">
                        <span class="btn-icon">‚ú®</span>
                        T·∫°o h√¨nh ·∫£nh
                    </button>
                    
                    <div class="progress-section" id="generationProgress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="generationProgressBar"></div>
                        </div>
                        <p class="progress-text">ƒêang x·ª≠ l√Ω v·ªõi AI...</p>
                    </div>
                    
                    <div class="result-section" id="generationResult" style="display: none;">
                        <h4>K·∫øt qu·∫£:</h4>
                        <div class="result-image">
                            <img id="generatedImage" alt="Generated Image">
                            <div class="result-actions">
                                <button class="btn-secondary" id="downloadImageBtn">T·∫£i v·ªÅ</button>
                                <button class="btn-secondary" id="regenerateBtn">T·∫°o l·∫°i</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Animation Tab -->
            <div class="tab-panel" id="animation">
                <div class="section">
                    <h3>T·∫°o Animation</h3>
                    <p class="description">Chuy·ªÉn ƒë·ªïi h√¨nh ·∫£nh tƒ©nh th√†nh animation s·ªëng ƒë·ªông b·∫±ng AI.</p>
                    
                    <div class="form-group">
                        <label for="imageUpload">Ch·ªçn h√¨nh ·∫£nh:</label>
                        <div class="file-upload-area" id="imageUploadArea">
                            <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                            <div class="upload-placeholder">
                                <span class="upload-icon">üìÅ</span>
                                <p>Nh·∫•p ƒë·ªÉ ch·ªçn h√¨nh ·∫£nh</p>
                                <small>H·ªó tr·ª£ JPG, PNG, WEBP</small>
                            </div>
                        </div>
                        <div class="uploaded-image" id="uploadedImagePreview" style="display: none;">
                            <img id="previewImage" alt="Preview">
                            <button class="remove-image" id="removeImageBtn">√ó</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="animationTypeSelect">Lo·∫°i animation:</label>
                        <select id="animationTypeSelect">
                            <option value="lip_sync">ƒê·ªìng b·ªô m√¥i</option>
                            <option value="head_movement">Chuy·ªÉn ƒë·ªông ƒë·∫ßu</option>
                            <option value="eye_blink">Ch·ªõp m·∫Øt</option>
                            <option value="facial_expression">Bi·ªÉu c·∫£m khu√¥n m·∫∑t</option>
                        </select>
                    </div>
                    
                    <button class="btn-primary" id="createAnimationBtn" disabled>
                        <span class="btn-icon">üé¨</span>
                        T·∫°o Animation
                    </button>
                    
                    <div class="progress-section" id="animationProgress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="animationProgressBar"></div>
                        </div>
                        <p class="progress-text">ƒêang t·∫°o animation...</p>
                    </div>
                    
                    <div class="result-section" id="animationResult" style="display: none;">
                        <h4>K·∫øt qu·∫£:</h4>
                        <div class="result-video">
                            <video id="animationVideo" controls></video>
                            <div class="result-actions">
                                <button class="btn-secondary" id="downloadAnimationBtn">T·∫£i v·ªÅ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Tab -->
            <div class="tab-panel" id="video">
                <div class="section">
                    <h3>T·∫°o Video</h3>
                    <p class="description">T·∫°o video chuy√™n nghi·ªáp v·ªõi √¢m thanh v√† hi·ªáu ·ª©ng.</p>
                    
                    <div class="form-group">
                        <label for="videoSourceSelect">Ngu·ªìn video:</label>
                        <select id="videoSourceSelect">
                            <option value="">Ch·ªçn ngu·ªìn...</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="voiceSelect">Gi·ªçng n√≥i:</label>
                        <select id="voiceSelect">
                            <option value="female_vn">N·ªØ - Ti·∫øng Vi·ªát</option>
                            <option value="male_vn">Nam - Ti·∫øng Vi·ªát</option>
                            <option value="female_en">Female - English</option>
                            <option value="male_en">Male - English</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="textInput">VƒÉn b·∫£n ƒë·ªÉ ƒë·ªçc:</label>
                        <textarea id="textInput" placeholder="Nh·∫≠p vƒÉn b·∫£n ƒë·ªÉ t·∫°o audio..." rows="4"></textarea>
                    </div>
                    
                    <button class="btn-primary" id="createVideoBtn" disabled>
                        <span class="btn-icon">üé•</span>
                        T·∫°o Video
                    </button>
                    
                    <div class="progress-section" id="videoProgress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="videoProgressBar"></div>
                        </div>
                        <p class="progress-text">ƒêang t·∫°o video...</p>
                    </div>
                    
                    <div class="result-section" id="videoResult" style="display: none;">
                        <h4>K·∫øt qu·∫£:</h4>
                        <div class="result-video">
                            <video id="finalVideo" controls></video>
                            <div class="result-actions">
                                <button class="btn-secondary" id="downloadVideoBtn">T·∫£i v·ªÅ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>üé® Creator AI Extension v1.0.0</p>
            <p class="copyright">¬© 2024 Hanh IO Company Limited</p>
        </div>
    </div>

    <script src="js/error-handler.js"></script>
    <script src="js/api.js"></script>
    <script src="js/popup.js"></script>
</body>
</html>